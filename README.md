# Учебное задание: создание бастионного хоста

## Задача

При помощи bash создать 3 виртуальных машины в YC. 1 виртуальная машина имеет белый внешний IP, 2 других - только локальные адреса

## Необходимый софт

Для запуска на компьютере должны быть: git, docker, docker compose

## Инструкция по запуску

Загрузить из репозитория

```
git clone https://github.com/DisWEBru/otus_devops_l5.git
```

Перейти в директорию проекта

```
cd otus_devops_l5
```

Открыть и заполнить .env

- **YC_TOKEN** - OAuth-токен в сервисе Яндекс ID (Подробнее: https://yandex.cloud/ru/docs/cli/quickstart#initialize)
- **YC_CLOUD_ID** - ID облака в котором каталог для развертывания
- **YC_FOLDER_ID** - ID каталога для развертывания

Открыть и заполнить run.sh

- **SSH_KEY** - Публичный ключ

Остальные параметры заполняются при необходимости

Запустить скрипт на создание сетей и серверов

```
docker compose run --rm -it disweb.yandex.cli bash -c "$(cat run.sh)"
```
